{"version":3,"sources":["commands/diagnostics.js"],"names":["options","start","getDeviceInfoAsync","uploadLogs","url","stop","console","log","raw","action","program","command","description","asyncAction"],"mappings":";;;;;;;;;;;;;;;;;;;4IAOA,iBAAsBA,OAAtB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACE,+CAAI,kCAAJ;AACA,+CAAI,sDAAJ;;AAEA,8DAAcC,KAAd;AAJF;AAAA,mBAKsB,kCAAYC,kBAAZ,CAA+B;AACjDC,0BAAY;AADqC,aAA/B,CALtB;;AAAA;AAAA;AAKQC,eALR,SAKQA,GALR;;AAQE,8DAAcC,IAAd;;AAEA;;AAEAC,oBAAQC,GAAR,2CAAoDH,GAApD;AACA,0CAAII,GAAJ,CAAQJ,GAAR;;AAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeK,M;;;;;;;AAPf;AAAA;AAAA;;;;AACA;AAAA;AAAA;;;;AAEA;AAAA;AAAA;;;;AAEA;AAAA;AAAA;;;;kBAkBe,mBAAW;AACxBC,UACGC,OADH,CACW,2BADX,EAEGC,WAFH,CAEe,gFAFf,EAGGC,WAHH,CAGeJ,MAHf;AAID,C","file":"../../commands/diagnostics.js","sourcesContent":["import { Diagnostics } from 'xdl';\nimport { print as envinfoPrint } from 'envinfo';\n\nimport simpleSpinner from '@expo/simple-spinner';\n\nimport log from '../log';\n\nasync function action(options) {\n  log('Generating diagnostics report...');\n  log('You can join our slack here: https://slack.expo.io/.');\n\n  simpleSpinner.start();\n  let { url } = await Diagnostics.getDeviceInfoAsync({\n    uploadLogs: true,\n  });\n  simpleSpinner.stop();\n\n  envinfoPrint();\n\n  console.log(`\\x1b[4mDiagnostics report:\\x1b[0m\\n  ${url}\\n`);\n  log.raw(url);\n}\n\nexport default program => {\n  program\n    .command('diagnostics [project-dir]')\n    .description('Uploads diagnostics information and returns a url to share with the Expo team.')\n    .asyncAction(action);\n};\n"],"sourceRoot":"/Users/ville/Projects/expo/universe/dev/exp/src"}