{"version":3,"sources":["userSettings.js"],"names":[],"mappings":";;;;IAkBe,cAAc,qBAA7B,WAA8B,IAAI,EAAE;AAClC,QAAM,MAAM,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,CAAC;AAC7C,SAAO,QAAQ,CAAC,UAAU,CAAC,gBAAgB,EAAE,EAAE,IAAI,CAAC,CAAC;CACtD;;IAEc,aAAa,qBAA5B,aAA+B;AAC7B,SAAO,QAAQ,CAAC,SAAS,CAAC,gBAAgB,EAAE,EAAE,EAAC,mBAAmB,EAAC,EAAE,EAAC,CAAC,CAAC;CACzE;;IAEc,cAAc,qBAA7B,WAA8B,IAAI,EAAE;AAClC,SAAO,QAAQ,CAAC,UAAU,CAAC,gBAAgB,EAAE,EAAE,IAAI,CAAC,CAAC;CACtD;;AA7BD,IAAI,CAAC,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;AAC/B,IAAI,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAC3C,IAAI,QAAQ,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;AAC9C,IAAI,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC/B,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;;AAG3B,SAAS,gBAAgB,GAAG;AAC1B,SAAO,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,eAAe,CAAC,CAAC;CAC3D;;AAED,SAAS,oBAAoB,GAAG;AAC9B,MAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE;AACrB,UAAM,IAAI,KAAK,CAAC,yFAAwF,CAAC,CAAC;GAC3G;AACD,SAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;CACjD;;AAeD,MAAM,CAAC,OAAO,GAAG;AACf,gBAAc,EAAd,cAAc;AACd,eAAa,EAAb,aAAa;AACb,kBAAgB,EAAhB,gBAAgB;AAChB,gBAAc,EAAd,cAAc,EACf,CAAC","file":"userSettings.js","sourcesContent":["var _ = require('lodash-node');\nvar instapromise = require('instapromise');\nvar jsonFile = require('@exponent/json-file');\nvar mkdirp = require('mkdirp');\nvar path = require('path');\n\n// TODO: Make this more configurable\nfunction userSettingsFile() {\n  return path.join(dotExponentDirectory(), 'exponent.json');\n}\n\nfunction dotExponentDirectory() {\n  if (!process.env.HOME) {\n    throw new Error(\"Can't determine your home directory; make sure your $HOME environment variable is set.\");\n  }\n  return path.join(process.env.HOME, '.exponent');\n}\n\nasync function writeFileAsync(data) {\n  await mkdirp.promise(dotExponentDirectory());\n  return jsonFile.writeAsync(userSettingsFile(), data);\n}\n\nasync function readFileAsync() {\n  return jsonFile.readAsync(userSettingsFile(), {cantReadFileDefault:{}});\n}\n\nasync function mergeFileAsync(data) {\n  return jsonFile.mergeAsync(userSettingsFile(), data);\n}\n\nmodule.exports = {\n  mergeFileAsync,\n  readFileAsync,\n  userSettingsFile,\n  writeFileAsync,\n};\n"],"sourceRoot":"/source/"}