{"version":3,"sources":["commands/url.js"],"names":[],"mappings":";;AAAA,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;;;;AAIvB,IAAI,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAI,YAAY,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC7C,IAAI,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;;AAEpC,MAAM,CAAC,OAAO,GAAG;AACf,MAAI,EAAE,KAAK;AACX,aAAW,EAAE,0FAAyF;AACtG,MAAI,EAAE,2DAA2D;AACjE,UAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE;AAChC,QAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AACpB,QAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;AAClB,QAAI,GAAG,GAAG,IAAI,CAAC;;AAEf,QAAI;AACF,UAAI,GAAG,GAAG,MAAM,OAAO,CAAC,2BAA2B,EAAE,CAAC;KACvD,CAAC,OAAO,CAAC,EAAE;AACV,YAAM,YAAY,CAAC,qBAAqB,EAAE,GAAG,EAAE,gEAAgE,CAAC,CAAC;KAClH;AACD,QAAI,MAAM,GAAG,OAAO,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;AAC5C,QAAI,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACxB,QAAI,SAAS,EAAE;AACb,aAAO,MAAM,GAAG,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;KAC/D,MAAM;AACL,aAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;;;;;;;;;KASrB;GAEF,CAAC,EACH,CAAC","file":"commands/url.js","sourcesContent":["var co = require('co');\n//var crayon = require('@ccheever/crayon');\n//var qrcodeTerminal = require('qrcode-terminal');\n\nvar api = require('../api');\nvar CommandError = require('./CommandError');\nvar urlUtil = require('../urlUtil');\n\nmodule.exports = {\n  name: 'url',\n  description: \"Sends a link you can load the app you're developing to a phone number or e-mail address\",\n  help: \"You must have the server running for this command to work\",\n  runAsync: co.wrap(function *(env) {\n    var argv = env.argv;\n    var args = argv._;\n    var err = null;\n\n    try {\n      var url = yield urlUtil.getTestedMainBundleUrlAsync();\n    } catch (e) {\n      throw CommandError('RUN_EXP_SERVE_FIRST', env, \"You need to run `exp serve` before you have a URL you can send\");\n    }\n    var expUrl = urlUtil.expUrlFromHttpUrl(url);\n    var recipient = args[1];\n    if (recipient) {\n      return yield api.callMethodAsync('send', [recipient, expUrl]);\n    } else {\n      console.log(expUrl);\n      // TODO: If we can make the URLs shorter, show a QR code\n      /*\n      crayon.bold.log(url);\n      console.log('');\n      qrcodeTerminal.generate(url);\n      console.log('');\n      crayon.bold.log(url);\n      */\n    }\n\n  }),\n};\n"],"sourceRoot":"/source/"}